{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nvar _jsxFileName = \"/Users/taylorpasquariello/taylorPasqLLC/paseon/paseon/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react'; // import fetch from 'isomorphic-unfetch'\n\nimport Link from 'next/link';\nimport Layout from '../components/MyLayout'; // import { login } from '../utils/auth'\n//  const db = require('./api/db/Postgres').db();\n// Login.getInitialProps = async ({ req, query }) => {\n//   const protocol = req\n//     ? `${req.headers['x-forwarded-proto']}:`\n//     : location.protocol\n//   const host = req ? req.headers['x-forwarded-host'] : location.host\n//   const pageRequest = `${protocol}//${host}/api/loginv2`\n//   const res = await fetch(url)\n//   const json = await res\n//   return json\n// }\n\nfunction Login() {\n  const {\n    0: userData,\n    1: setUserData\n  } = useState({\n    username: '',\n    error: ''\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setUserData(_Object$assign({}, userData, {\n      error: ''\n    }));\n    const username = userData.username;\n    let url = 'http://localhost:3001/emailService/login';\n    fetch(url, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Access-Control-Allow-Origin': 'http://localhost:3000'\n      },\n      method: 'POST',\n      body: _JSON$stringify(username)\n    }).then(response => {\n      if (response.status === 200) {\n        this.loading = false;\n        this.msgSuccess = true;\n        let self = this;\n        setTimeout(function () {\n          console.log('YOYOYO ');\n          self.msgSuccess = false;\n        }, 2000);\n      } else {\n        console.log('error');\n      } // return response.json();\n\n    }).then(response => {}); // try {\n    //   // let user = await db('users').select('email').where({email: 'taylor@pasq.net'});\n    //   const response = await fetch(url, {\n    //     method: 'POST',\n    //     headers: { 'Content-Type': 'application/json' },\n    //     body: JSON.stringify({ username })\n    //   })\n    //   console.log('response', response)\n    //   if (response.status === 200) {\n    //     // const { token } = await response.json()\n    //     // await login({ token })\n    //   } else {\n    //     console.log('Login failed.')\n    //     // https://github.com/developit/unfetch#caveats\n    //     let error = new Error(response.statusText)\n    //     error.response = response\n    //     throw error\n    //   }\n    // } catch (error) {\n    //   console.error(\n    //     'You have an error in your code or there are Network issues.',\n    //     error\n    //   )\n    //   const { response } = error\n    //   setUserData(\n    //     Object.assign({}, userData, {\n    //       error: response ? response.statusText : error.message\n    //     })\n    //   )\n    // }\n  }\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1828860322\" + \" \" + 'login',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-1828860322\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"username\",\n    className: \"jsx-1828860322\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"GitHub username\"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    name: \"username\",\n    value: userData.username,\n    onChange: event => setUserData(_Object$assign({}, userData, {\n      username: event.target.value\n    })),\n    className: \"jsx-1828860322\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-1828860322\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Login\"), userData.error && __jsx(\"p\", {\n    className: \"jsx-1828860322\" + \" \" + 'error',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Error: \", userData.error))), __jsx(_JSXStyle, {\n    id: \"1828860322\",\n    __self: this\n  }, \".login.jsx-1828860322{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;}form.jsx-1828860322{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-1828860322{font-weight:600;}input.jsx-1828860322{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-1828860322{margin:0.5rem 0 0;color:brown;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3JwYXNxdWFyaWVsbG8vdGF5bG9yUGFzcUxMQy9wYXNlb24vcGFzZW9uL3BhZ2VzL2xvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlIa0IsQUFHMkIsQUFPSCxBQUlHLEFBR0osQUFNTSxZQUxHLElBZFAsQUFXaEIsRUFTYyxZQW5CQyxBQW9CZixHQU53QixVQWJBLFlBY0osVUFiQSxRQWNwQixDQVZtQixTQUhuQixzREFJQSIsImZpbGUiOiIvVXNlcnMvdGF5bG9ycGFzcXVhcmllbGxvL3RheWxvclBhc3FMTEMvcGFzZW9uL3Bhc2Vvbi9wYWdlcy9sb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuLy8gaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCdcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9NeUxheW91dCdcbi8vIGltcG9ydCB7IGxvZ2luIH0gZnJvbSAnLi4vdXRpbHMvYXV0aCdcbi8vICBjb25zdCBkYiA9IHJlcXVpcmUoJy4vYXBpL2RiL1Bvc3RncmVzJykuZGIoKTtcblxuXG5cbi8vIExvZ2luLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7IHJlcSwgcXVlcnkgfSkgPT4ge1xuLy8gICBjb25zdCBwcm90b2NvbCA9IHJlcVxuLy8gICAgID8gYCR7cmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLXByb3RvJ119OmBcbi8vICAgICA6IGxvY2F0aW9uLnByb3RvY29sXG4vLyAgIGNvbnN0IGhvc3QgPSByZXEgPyByZXEuaGVhZGVyc1sneC1mb3J3YXJkZWQtaG9zdCddIDogbG9jYXRpb24uaG9zdFxuLy8gICBjb25zdCBwYWdlUmVxdWVzdCA9IGAke3Byb3RvY29sfS8vJHtob3N0fS9hcGkvbG9naW52MmBcbi8vICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsKVxuLy8gICBjb25zdCBqc29uID0gYXdhaXQgcmVzXG4vLyAgIHJldHVybiBqc29uXG5cbiAgXG4vLyB9XG5cbmZ1bmN0aW9uIExvZ2luICgpIHtcblxuXG4gIGNvbnN0IFt1c2VyRGF0YSwgc2V0VXNlckRhdGFdID0gdXNlU3RhdGUoeyB1c2VybmFtZTogJycsIGVycm9yOiAnJyB9KVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCAoZXZlbnQpIHtcbiAgICBcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgc2V0VXNlckRhdGEoT2JqZWN0LmFzc2lnbih7fSwgdXNlckRhdGEsIHsgZXJyb3I6ICcnIH0pKVxuXG4gICAgY29uc3QgdXNlcm5hbWUgPSB1c2VyRGF0YS51c2VybmFtZVxuICAgIGxldCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAxL2VtYWlsU2VydmljZS9sb2dpbidcblxuICAgIGZldGNoKHVybCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VybmFtZSksXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubXNnU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZT1lPWU8gJylcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tc2dTdWNjZXNzID0gZmFsc2U7IFxuICAgICAgICAgICAgICAgIH0sIDIwMDApOyAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAvLyByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcblxuICAgIC8vIHRyeSB7XG4gICAgLy8gICAvLyBsZXQgdXNlciA9IGF3YWl0IGRiKCd1c2VycycpLnNlbGVjdCgnZW1haWwnKS53aGVyZSh7ZW1haWw6ICd0YXlsb3JAcGFzcS5uZXQnfSk7XG5cbiAgICAvLyAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIFxuICAgIC8vICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAvLyAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgLy8gICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSlcbiAgICAvLyAgIH0pXG4gICAgLy8gICBjb25zb2xlLmxvZygncmVzcG9uc2UnLCByZXNwb25zZSlcbiAgICAvLyAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuXG4gICAgLy8gICAgIC8vIGNvbnN0IHsgdG9rZW4gfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIC8vICAgICAvLyBhd2FpdCBsb2dpbih7IHRva2VuIH0pXG4gICAgLy8gICB9IGVsc2Uge1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnTG9naW4gZmFpbGVkLicpXG4gICAgLy8gICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvdW5mZXRjaCNjYXZlYXRzXG4gICAgLy8gICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KVxuICAgIC8vICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlXG4gICAgLy8gICAgIHRocm93IGVycm9yXG4gICAgLy8gICB9XG4gICAgLy8gfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyAgIGNvbnNvbGUuZXJyb3IoXG4gICAgLy8gICAgICdZb3UgaGF2ZSBhbiBlcnJvciBpbiB5b3VyIGNvZGUgb3IgdGhlcmUgYXJlIE5ldHdvcmsgaXNzdWVzLicsXG4gICAgLy8gICAgIGVycm9yXG4gICAgLy8gICApXG5cbiAgICAvLyAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGVycm9yXG4gICAgLy8gICBzZXRVc2VyRGF0YShcbiAgICAvLyAgICAgT2JqZWN0LmFzc2lnbih7fSwgdXNlckRhdGEsIHtcbiAgICAvLyAgICAgICBlcnJvcjogcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXNUZXh0IDogZXJyb3IubWVzc2FnZVxuICAgIC8vICAgICB9KVxuICAgIC8vICAgKVxuICAgIC8vIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdsb2dpbic+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSd1c2VybmFtZSc+R2l0SHViIHVzZXJuYW1lPC9sYWJlbD5cblxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgIGlkPSd1c2VybmFtZSdcbiAgICAgICAgICAgIG5hbWU9J3VzZXJuYW1lJ1xuICAgICAgICAgICAgdmFsdWU9e3VzZXJEYXRhLnVzZXJuYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+XG4gICAgICAgICAgICAgIHNldFVzZXJEYXRhKFxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHVzZXJEYXRhLCB7IHVzZXJuYW1lOiBldmVudC50YXJnZXQudmFsdWUgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9J3N1Ym1pdCc+TG9naW48L2J1dHRvbj5cblxuICAgICAgICAgIHt1c2VyRGF0YS5lcnJvciAmJiA8cCBjbGFzc05hbWU9J2Vycm9yJz5FcnJvcjoge3VzZXJEYXRhLmVycm9yfTwvcD59XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAubG9naW4ge1xuICAgICAgICAgIG1heC13aWR0aDogMzQwcHg7XG4gICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgfVxuICAgICAgICBmb3JtIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZmxvdzogY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGxhYmVsIHtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0IHtcbiAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgbWFyZ2luOiAwLjNyZW0gMCAxcmVtO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMCAwO1xuICAgICAgICAgIGNvbG9yOiBicm93bjtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvTGF5b3V0PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luXG5cblxuXG4vLyBmdW5jdGlvbiBQcm9maWxlUGFnZSh7IHByb2ZpbGUgfSkge1xuLy8gICByZXR1cm4gKFxuLy8gICAgIDw+XG4vLyAgICAgICA8ZGl2PlxuLy8gICAgICAgICA8aW1nIHNyYz17cHJvZmlsZS5hdmF0YXJ9IC8+XG4vLyAgICAgICAgIDxoMT57cHJvZmlsZS5uYW1lfTwvaDE+XG4vLyAgICAgICAgIDxwPntwcm9maWxlLmFkZHJlc3N9PC9wPlxuLy8gICAgICAgICA8cD57cHJvZmlsZS5lbWFpbH08L3A+XG4vLyAgICAgICAgIDxMaW5rIGhyZWY9XCIvXCI+XG4vLyAgICAgICAgICAgPGE+4oaQIEJhY2sgdG8gcHJvZmlsZXM8L2E+XG4vLyAgICAgICAgIDwvTGluaz5cbi8vICAgICAgIDwvZGl2PlxuLy8gICAgIDwvPlxuLy8gICApXG4vLyB9XG5cbi8vIGV4cG9ydCBkZWZhdWx0IFByb2ZpbGVQYWdlIl19 */\\n/*@ sourceURL=/Users/taylorpasquariello/taylorPasqLLC/paseon/paseon/pages/login.js */\"));\n}\n\nexport default Login; // function ProfilePage({ profile }) {\n//   return (\n//     <>\n//       <div>\n//         <img src={profile.avatar} />\n//         <h1>{profile.name}</h1>\n//         <p>{profile.address}</p>\n//         <p>{profile.email}</p>\n//         <Link href=\"/\">\n//           <a>← Back to profiles</a>\n//         </Link>\n//       </div>\n//     </>\n//   )\n// }\n// export default ProfilePage","map":{"version":3,"sources":["/Users/taylorpasquariello/taylorPasqLLC/paseon/paseon/pages/login.js"],"names":["React","useState","Link","Layout","Login","userData","setUserData","username","error","handleSubmit","event","preventDefault","url","fetch","headers","method","body","then","response","status","loading","msgSuccess","self","setTimeout","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n// import fetch from 'isomorphic-unfetch'\nimport Link from 'next/link'\nimport Layout from '../components/MyLayout'\n// import { login } from '../utils/auth'\n//  const db = require('./api/db/Postgres').db();\n\n\n\n// Login.getInitialProps = async ({ req, query }) => {\n//   const protocol = req\n//     ? `${req.headers['x-forwarded-proto']}:`\n//     : location.protocol\n//   const host = req ? req.headers['x-forwarded-host'] : location.host\n//   const pageRequest = `${protocol}//${host}/api/loginv2`\n//   const res = await fetch(url)\n//   const json = await res\n//   return json\n\n  \n// }\n\nfunction Login () {\n\n\n  const [userData, setUserData] = useState({ username: '', error: '' })\n\n  async function handleSubmit (event) {\n    \n    event.preventDefault()\n    setUserData(Object.assign({}, userData, { error: '' }))\n\n    const username = userData.username\n    let url = 'http://localhost:3001/emailService/login'\n\n    fetch(url, {\n        headers: {\n            'Content-Type':'application/x-www-form-urlencoded',\n            'Access-Control-Allow-Origin': 'http://localhost:3000'\n            },\n          method: 'POST',\n          body: JSON.stringify(username),\n        })\n        .then(response => {\n            if (response.status === 200) {\n                this.loading = false;\n                this.msgSuccess = true;\n                let self = this;\n                setTimeout(function(){ \n                    console.log('YOYOYO ')\n                    self.msgSuccess = false; \n                }, 2000);            } \n            else {\n                console.log('error')\n            }\n           // return response.json();\n        })\n        .then(response => {\n      \n            \n        });\n\n    // try {\n    //   // let user = await db('users').select('email').where({email: 'taylor@pasq.net'});\n\n    //   const response = await fetch(url, {\n        \n    //     method: 'POST',\n    //     headers: { 'Content-Type': 'application/json' },\n    //     body: JSON.stringify({ username })\n    //   })\n    //   console.log('response', response)\n    //   if (response.status === 200) {\n\n    //     // const { token } = await response.json()\n    //     // await login({ token })\n    //   } else {\n    //     console.log('Login failed.')\n    //     // https://github.com/developit/unfetch#caveats\n    //     let error = new Error(response.statusText)\n    //     error.response = response\n    //     throw error\n    //   }\n    // } catch (error) {\n    //   console.error(\n    //     'You have an error in your code or there are Network issues.',\n    //     error\n    //   )\n\n    //   const { response } = error\n    //   setUserData(\n    //     Object.assign({}, userData, {\n    //       error: response ? response.statusText : error.message\n    //     })\n    //   )\n    // }\n  }\n\n  return (\n    <Layout>\n      <div className='login'>\n        <form onSubmit={handleSubmit}>\n          <label htmlFor='username'>GitHub username</label>\n\n          <input\n            type='text'\n            id='username'\n            name='username'\n            value={userData.username}\n            onChange={event =>\n              setUserData(\n                Object.assign({}, userData, { username: event.target.value })\n              )\n            }\n          />\n\n          <button type='submit'>Login</button>\n\n          {userData.error && <p className='error'>Error: {userData.error}</p>}\n        </form>\n      </div>\n      <style jsx>{`\n        .login {\n          max-width: 340px;\n          margin: 0 auto;\n          padding: 1rem;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n        form {\n          display: flex;\n          flex-flow: column;\n        }\n        label {\n          font-weight: 600;\n        }\n        input {\n          padding: 8px;\n          margin: 0.3rem 0 1rem;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n        .error {\n          margin: 0.5rem 0 0;\n          color: brown;\n        }\n      `}</style>\n    </Layout>\n  )\n}\n\nexport default Login\n\n\n\n// function ProfilePage({ profile }) {\n//   return (\n//     <>\n//       <div>\n//         <img src={profile.avatar} />\n//         <h1>{profile.name}</h1>\n//         <p>{profile.address}</p>\n//         <p>{profile.email}</p>\n//         <Link href=\"/\">\n//           <a>← Back to profiles</a>\n//         </Link>\n//       </div>\n//     </>\n//   )\n// }\n\n// export default ProfilePage"]},"metadata":{},"sourceType":"module"}