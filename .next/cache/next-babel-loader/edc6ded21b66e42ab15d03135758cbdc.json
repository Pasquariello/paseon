{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport { useEffect } from 'react';\nimport Router from 'next/router';\nimport nextCookie from 'next-cookies';\nimport cookie from 'js-cookie';\nimport { compose } from 'redux'; // import { login_action } from '../redux/actions/auth'\n\nimport { useDispatch } from 'react-redux';\nimport getUrl from './getUrl';\nexport var getCampaignData = function getCampaignData(ctx) {\n  var _nextCookie, userId, res, data, dispatch, response;\n\n  return _regeneratorRuntime.async(function getCampaignData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _nextCookie = nextCookie(ctx), userId = _nextCookie.userId;\n          _context.prev = 1;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(fetch(\"\".concat(getUrl, \"/campaign/get_campaigns/\").concat(userId)));\n\n        case 4:\n          res = _context.sent;\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 7:\n          data = _context.sent;\n          dispatch = ctx.reduxStore.dispatch;\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(dispatch({\n            type: 'CAMPAIGN_DATA_LOADED',\n            payload: data\n          }));\n\n        case 11:\n          _context.next = 17;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](1);\n          console.error('You have an error in your code or there are Network issues.', _context.t0);\n          response = _context.t0.response;\n\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[1, 13]]);\n};","map":{"version":3,"sources":["/Users/taylorpasquariello/learning_resources/paseon/paseon/utils/campaign_data.js"],"names":["useEffect","Router","nextCookie","cookie","compose","useDispatch","getUrl","getCampaignData","ctx","userId","fetch","res","json","data","dispatch","reduxStore","type","payload","console","error","response"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,OAAT,QAAwB,OAAxB,C,CACA;;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAO,IAAMC,eAAe,GAAI,SAAnBA,eAAmB,CAAOC,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEXN,UAAU,CAACM,GAAD,CAFC,EAEtBC,MAFsB,eAEtBA,MAFsB;AAAA;AAAA;AAAA,2CAKVC,KAAK,WAAIJ,MAAJ,qCAAqCG,MAArC,EALK;;AAAA;AAKtBE,UAAAA,GALsB;AAAA;AAAA,2CAMTA,GAAG,CAACC,IAAJ,EANS;;AAAA;AAMtBC,UAAAA,IANsB;AAQpBC,UAAAA,QARoB,GAQPN,GAAG,CAACO,UARG,CAQpBD,QARoB;AAAA;AAAA,2CAUtBA,QAAQ,CAAC;AACbE,YAAAA,IAAI,EAAE,sBADO;AAEbC,YAAAA,OAAO,EAAEJ;AAFI,WAAD,CAVc;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAgB5BK,UAAAA,OAAO,CAACC,KAAR,CAAc,6DAAd;AAEQC,UAAAA,QAlBoB,eAkBpBA,QAlBoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB","sourcesContent":["import { useEffect } from 'react'\nimport Router from 'next/router'\nimport nextCookie from 'next-cookies'\nimport cookie from 'js-cookie'\nimport { compose } from 'redux'\n// import { login_action } from '../redux/actions/auth'\nimport { useDispatch } from 'react-redux'\nimport getUrl from './getUrl';\n\nexport const getCampaignData  = async (ctx) =>  {\n\n  const { userId } = nextCookie(ctx)\n\n  try {\n    const res = await fetch(`${getUrl}/campaign/get_campaigns/${userId}`);\n    const data = await res.json()\n        \n    const { dispatch } = ctx.reduxStore;\n\n    await dispatch({\n      type: 'CAMPAIGN_DATA_LOADED',\n      payload: data\n    });\n    \n  } catch (error) {\n    console.error('You have an error in your code or there are Network issues.',error)\n\n    const { response } = error\n   \n  }\n}"]},"metadata":{},"sourceType":"module"}