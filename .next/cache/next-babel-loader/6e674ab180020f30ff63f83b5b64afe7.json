{"ast":null,"code":"var _jsxFileName = \"/Users/taylorpasquariello/learning_resources/paseon/paseon/pages/dashboard.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react'; // import fetch from 'isomorphic-unfetch'\n\nimport LayoutApp from '../components/LayoutApp';\nimport { withRedux } from '../lib/redux';\nimport QuickAnalytics from '../components/QuickAnalytics';\nimport { withAuthSync } from '../utils/auth';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { auth, getUserData } from '../utils/auth';\nimport { getCampaignData } from '../utils/campaign_data';\nimport { motion } from \"framer-motion\";\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Link from 'next/link';\nimport CampaignLink from '../components/CampaignLink';\nimport TestChart from '../components/TESTCHART';\n\nconst getUserInfo = () => {\n  return useSelector(state => ({\n    isAuthenticated: state.isAuthenticated\n  }), shallowEqual);\n};\n\nfunction Dashboard(props) {\n  // todo - think about how I want to make all quick analytics more dry but still custom for each page - pass in props? \n  // const [quickAnalytics, setQuickAnalytics] = useState({ title: 'TOTAL MONTHLY SUBMISSIONS', body: '50%' })\n  let totalForms = props.campaignList.length;\n  let totalSubmissions = 0;\n  let countArray = [];\n  props.campaignList.forEach(campaign => {\n    totalSubmissions = totalSubmissions + campaign.jsonb_array_length; // countArray = [...countArray, campaign.jsonb_array_length]\n  });\n  let quickAnalyticsData = [{\n    title: 'TOTAL FORMS MANAGED',\n    body: totalForms\n  }, {\n    title: 'TOTAL MONTHLY SUBMISSIONS',\n    body: totalSubmissions\n  }];\n  return __jsx(LayoutApp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Dashboard\")), __jsx(QuickAnalytics, {\n    data: quickAnalyticsData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    whileHover: {\n      scale: 1.1\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    className: \"col-md-6 mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card shadow mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card-header py-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, __jsx(\"h6\", {\n    className: \"m-0 font-weight-bold text-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Create a New Campaign\")), __jsx(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    className: \"img-fluid px-3 px-sm-4 mt-3 mb-4\",\n    style: {\n      width: \"25rem\"\n    },\n    src: \"../static/images/undraw_master_plan_95wa.svg\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.\"), __jsx(\"a\", {\n    target: \"_blank\",\n    rel: \"nofollow\",\n    href: \"https://undraw.co/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"See this cool link \\u2192\")))), __jsx(\"div\", {\n    className: \"col-md-6 mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card shadow mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card-header py-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, __jsx(Dropdown, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(\"h6\", {\n    className: \"m-0 font-weight-bold text-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, __jsx(Dropdown.Toggle, {\n    variant: \"link\",\n    id: \"dropdown-basic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Manage Your Current Campaigns\")), __jsx(Dropdown.Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, props.campaignList.length ? props.campaignList.map(campaign => {\n    return __jsx(Dropdown.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, __jsx(CampaignLink, {\n      id: campaign.id,\n      title: campaign.campaign_name,\n      directory: \"campaignManagment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }));\n  }) : __jsx(Dropdown.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"You currently Have No Campaigns\")))), __jsx(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    className: \"img-fluid px-3 px-sm-4 mt-3 mb-4\",\n    style: {\n      width: \"25rem\"\n    },\n    src: \"../static/images/undraw_dev_focus_b9xo.svg\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.\"), __jsx(Link, {\n    href: \"/campaignManagment/campaigns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"See All Campaigns \\u2192\")))))), __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Card title\"), __jsx(\"h6\", {\n    className: \"card-subtitle mb-2 text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Card subtitle\"), __jsx(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Some quick example text to build on the card title and make up the bulk of the card's content.\"), __jsx(\"a\", {\n    href: \"#\",\n    className: \"card-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Card link\"), __jsx(\"a\", {\n    href: \"#\",\n    className: \"card-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"Another link\")))), __jsx(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Card title\"), __jsx(\"h6\", {\n    className: \"card-subtitle mb-2 text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"Card subtitle\"), __jsx(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"Some quick example text to build on the card title and make up the bulk of the card's content.\"), __jsx(\"a\", {\n    href: \"#\",\n    className: \"card-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, \"Card link\"), __jsx(\"a\", {\n    href: \"#\",\n    className: \"card-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"Another link\"))))));\n}\n\nDashboard.getInitialProps = async ctx => {\n  //check if page is authorized\n  auth(ctx);\n\n  if (!ctx.reduxStore.getState().campaigns.data.length) {\n    await getCampaignData(ctx);\n  }\n\n  return {\n    campaignList: ctx.reduxStore.getState().campaigns.data\n  };\n};\n\nexport default withRedux(Dashboard); // export default Dashboard;","map":{"version":3,"sources":["/Users/taylorpasquariello/learning_resources/paseon/paseon/pages/dashboard.js"],"names":["React","useState","LayoutApp","withRedux","QuickAnalytics","withAuthSync","useSelector","shallowEqual","auth","getUserData","getCampaignData","motion","DropdownButton","Dropdown","Link","CampaignLink","TestChart","getUserInfo","state","isAuthenticated","Dashboard","props","totalForms","campaignList","length","totalSubmissions","countArray","forEach","campaign","jsonb_array_length","quickAnalyticsData","title","body","scale","width","map","id","campaign_name","getInitialProps","ctx","reduxStore","getState","campaigns","data"],"mappings":"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","sourcesContent":["\nimport React, { useState } from 'react'\n// import fetch from 'isomorphic-unfetch'\nimport LayoutApp from '../components/LayoutApp'\nimport { withRedux } from '../lib/redux';\n\nimport QuickAnalytics from '../components/QuickAnalytics';\nimport { withAuthSync } from '../utils/auth';\n\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { auth, getUserData } from '../utils/auth';\nimport { getCampaignData } from '../utils/campaign_data';\n\nimport { motion } from \"framer-motion\";\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Link from 'next/link';\nimport CampaignLink from '../components/CampaignLink';\n\n\nimport TestChart from '../components/TESTCHART';\n\nconst getUserInfo = () => {\n  return useSelector(\n    state => ({\n      isAuthenticated: state.isAuthenticated,\n    }),\n    shallowEqual\n  )\n}\n\n\nfunction Dashboard (props) { \n\n  // todo - think about how I want to make all quick analytics more dry but still custom for each page - pass in props? \n  // const [quickAnalytics, setQuickAnalytics] = useState({ title: 'TOTAL MONTHLY SUBMISSIONS', body: '50%' })\n\n\n  let totalForms = props.campaignList.length\n  let totalSubmissions = 0\n  let countArray = []\n\n    props.campaignList.forEach(campaign => {\n      \n      totalSubmissions = totalSubmissions + campaign.jsonb_array_length\n      // countArray = [...countArray, campaign.jsonb_array_length]\n      \n    })\n\n    let quickAnalyticsData = [\n\n      {\n        title: 'TOTAL FORMS MANAGED',\n        body: totalForms\n      },\n      {\n        title: 'TOTAL MONTHLY SUBMISSIONS',\n        body: totalSubmissions\n      }\n    ]\n\n    return (\n        <LayoutApp>\n          \n          <div className=\"row\"> \n            <h3>Dashboard</h3> \n          </div>\n\n          <QuickAnalytics\n            data={quickAnalyticsData}\n          />\n\n          <div className=\"row\"> \n\n            <div  \n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.9 }}\n              className=\"col-md-6 mb-4\"\n            >\n              <div className=\"card shadow mb-4\">\n                <div className=\"card-header py-3\">\n                  <h6 className=\"m-0 font-weight-bold text-primary\">Create a New Campaign</h6>\n                </div>\n                <div className=\"card-body\">\n                  <div className=\"text-center\">\n                    <img className=\"img-fluid px-3 px-sm-4 mt-3 mb-4\" style={{width: \"25rem\"}} src=\"../static/images/undraw_master_plan_95wa.svg\" alt=\"\"></img>\n                  </div>\n                  <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.</p>\n                  <a target=\"_blank\" rel=\"nofollow\" href=\"https://undraw.co/\">See this cool link →</a>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-6 mb-4\">\n              <div className=\"card shadow mb-4\">\n                <div className=\"card-header py-3\">\n        \n                      <Dropdown>\n                        <h6 className=\"m-0 font-weight-bold text-primary\">\n                          <Dropdown.Toggle variant=\"link\" id=\"dropdown-basic\">\n                            Manage Your Current Campaigns\n                          </Dropdown.Toggle>\n                        </h6>\n\n                        <Dropdown.Menu>\n                          {props.campaignList.length ? \n                            props.campaignList.map( campaign => {\n                            return  <Dropdown.Item><CampaignLink id={campaign.id} title={campaign.campaign_name} directory=\"campaignManagment\"/></Dropdown.Item>\n                            })\n                            : \n                            <Dropdown.Item>You currently Have No Campaigns</Dropdown.Item>\n                          }\n                        </Dropdown.Menu>\n                      </Dropdown>\n                                  \n                </div>\n                <div className=\"card-body\">\n                  <div className=\"text-center\">\n                    <img className=\"img-fluid px-3 px-sm-4 mt-3 mb-4\" style={{width: \"25rem\"}} src=\"../static/images/undraw_dev_focus_b9xo.svg\" alt=\"\"></img>\n                  </div>\n                  <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.</p>\n                  <Link href=\"/campaignManagment/campaigns\">\n                    <a>See All Campaigns →</a>\n                  </Link>\n                </div>\n              </div>\n            </div>\n\n\n\n{/*  \n            <div className=\"col-md-6\">\n                    \n\n                    <div className=\"card\" style={{ width: \"18rem\"}}>\n                      <div className=\"card-body\">\n                        <h5 className=\"card-title\">Card title</h5>\n                        <h6 className=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n                        <p className=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n                        <a href=\"#\" className=\"card-link\">Card link</a>\n                        <a href=\"#\" className=\"card-link\">Another link</a>\n                      </div>\n                    </div>\n              \n                  </div> */}\n          </div>\n\n\n\n{/*  */}\n\n{/* <TestChart/> */}\n\n\n<div className=\"row\"> \n            <div className=\"col-md-6\">\n                    \n\n              <div className=\"card mb-4\">\n                <div className=\"card-body\">\n\n                 \n\n                  <h5 className=\"card-title\">Card title</h5>\n                  <h6 className=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n                  <p className=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n                  <a href=\"#\" className=\"card-link\">Card link</a>\n                  <a href=\"#\" className=\"card-link\">Another link</a>\n                </div>\n              </div>\n        \n            </div>\n            <div className=\"col-md-6\">\n                    \n\n                    <div className=\"card mb-4\">\n                      <div className=\"card-body\">\n                        <h5 className=\"card-title\">Card title</h5>\n                        <h6 className=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n                        <p className=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n                        <a href=\"#\" className=\"card-link\">Card link</a>\n                        <a href=\"#\" className=\"card-link\">Another link</a>\n                      </div>\n                    </div>\n              \n                  </div>\n          </div>\n\n       \n        \n            </LayoutApp>\n  )\n  }\n\n  Dashboard.getInitialProps = async (ctx) => {\n    //check if page is authorized\n    auth(ctx);\n\n    if  (!ctx.reduxStore.getState().campaigns.data.length){\n      await getCampaignData(ctx)\n    } \n\n    return {\n      campaignList: ctx.reduxStore.getState().campaigns.data\n\n    }\n\n  }\n\n\n  \nexport default withRedux(Dashboard)\n  // export default Dashboard;\n"]},"metadata":{},"sourceType":"module"}