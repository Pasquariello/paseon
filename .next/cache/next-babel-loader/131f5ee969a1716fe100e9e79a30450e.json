{"ast":null,"code":"import { useEffect } from 'react';\nimport Router from 'next/router';\nimport nextCookie from 'next-cookies';\nimport cookie from 'js-cookie';\nimport { compose } from 'redux'; // import { login_action } from '../redux/actions/auth'\n\nimport { useDispatch } from 'react-redux';\nimport getUrl from './getUrl';\nexport const getCampaignData = async ctx => {\n  const {\n    userId\n  } = nextCookie(ctx);\n\n  try {\n    const res = await fetch(`${getUrl}/campaign/get_campaigns/${userId}`);\n    const data = await res.json();\n    const {\n      dispatch\n    } = ctx.reduxStore;\n    await dispatch({\n      type: 'CAMPAIGN_DATA_LOADED',\n      payload: data\n    });\n  } catch (error) {\n    console.error('You have an error in your code or there are Network issues.', error);\n    const {\n      response\n    } = error;\n  }\n};","map":{"version":3,"sources":["/Users/taylorpasquariello/learning_resources/paseon/paseon/utils/campaign_data.js"],"names":["useEffect","Router","nextCookie","cookie","compose","useDispatch","getUrl","getCampaignData","ctx","userId","res","fetch","data","json","dispatch","reduxStore","type","payload","error","console","response"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,OAAT,QAAwB,OAAxB,C,CACA;;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAO,MAAMC,eAAe,GAAI,MAAOC,GAAP,IAAgB;AAE9C,QAAM;AAAEC,IAAAA;AAAF,MAAaP,UAAU,CAACM,GAAD,CAA7B;;AAEA,MAAI;AACF,UAAME,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEL,MAAO,2BAA0BG,MAAO,EAA5C,CAAvB;AACA,UAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAeN,GAAG,CAACO,UAAzB;AAEA,UAAMD,QAAQ,CAAC;AACbE,MAAAA,IAAI,EAAE,sBADO;AAEbC,MAAAA,OAAO,EAAEL;AAFI,KAAD,CAAd;AAKD,GAXD,CAWE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAc,6DAAd,EAA4EA,KAA5E;AAEA,UAAM;AAAEE,MAAAA;AAAF,QAAeF,KAArB;AAED;AACF,CArBM","sourcesContent":["import { useEffect } from 'react'\nimport Router from 'next/router'\nimport nextCookie from 'next-cookies'\nimport cookie from 'js-cookie'\nimport { compose } from 'redux'\n// import { login_action } from '../redux/actions/auth'\nimport { useDispatch } from 'react-redux'\nimport getUrl from './getUrl';\n\nexport const getCampaignData  = async (ctx) =>  {\n\n  const { userId } = nextCookie(ctx)\n\n  try {\n    const res = await fetch(`${getUrl}/campaign/get_campaigns/${userId}`);\n    const data = await res.json()\n        \n    const { dispatch } = ctx.reduxStore;\n\n    await dispatch({\n      type: 'CAMPAIGN_DATA_LOADED',\n      payload: data\n    });\n    \n  } catch (error) {\n    console.error('You have an error in your code or there are Network issues.',error)\n\n    const { response } = error\n   \n  }\n}"]},"metadata":{},"sourceType":"module"}